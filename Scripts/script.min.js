(function(){function e(){for(var r=document.getElementsByTagName("input"),i=0;i<r.length;i++)r[i].type==="checkbox"&&n.push(r[i]);t=document.getElementsByTagName("em")}function o(){var h,o,c,e;for(u=document.getElementsByTagName("mark")[0],i=document.getElementsByTagName("progress")[0],f=i.firstElementChild||i.firstChild,h=0,e=0;e<n.length;e++)o=n[e],c=localStorage.getItem(o.id)==="true",o.checked=c,o.onclick=r,o.parentNode.className!=="optional"&&h++;for(e=0;e<t.length;e++)t[e].onclick=s;i.max=h}function s(n){for(var f,r,u,i=0;i<t.length;i++)f=t[i].nextElementSibling||t[i].nextSibling,f.style.maxHeight="0";n||(n=window.event),r=n.target||n.srcElement,u=r.nextElementSibling||r.nextSibling,u.style.maxHeight=u.style.maxHeight!=="100px"?"100px":"0"}function r(){for(var r=0,f=0,t,i=0;i<n.length;i++)t=n[i],localStorage.setItem(t.id,t.checked),t.parentNode.className!=="optional"?t.checked&&r++:t.checked&&f++;u.innerHTML=f.toString(),h(r)}function h(n){i.value=n;var t=parseInt(i.max,10);f.style.width=n*100/t+"%"}function c(){for(var t=document.getElementsByTagName("a"),n=0;n<t.length;n++)t[n].className==="info"&&(t[n].onclick=function(){return!1})}function l(){document.getElementById("clearall").onclick=function(){for(var t=0;t<n.length;t++)n[t].checked=!1;return localStorage.clear(),r(),!1}}var n=[],t=[],i,u,f;localStorage&&(e(),o(),c(),r(),l())})();