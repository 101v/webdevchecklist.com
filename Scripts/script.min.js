(function(){function e(){for(var r=document.getElementsByTagName("input"),t=0;t<r.length;t++)r[t].type==="checkbox"&&n.push(r[t]);i=document.getElementsByTagName("em")}function o(){var h,o,c,e;for(u=document.getElementsByTagName("mark")[0],t=document.getElementsByTagName("progress")[0],f=t.firstElementChild||t.firstChild,h=0,e=0;e<n.length;e++)o=n[e],c=localStorage.getItem(o.id)==="true",o.checked=c,o.onclick=r,o.parentNode.className!=="optional"&&h++;for(e=0;e<i.length;e++)i[e].onclick=s;t.max=h}function s(n){n||(n=window.event);var t=n.target||n.srcElement,i=t.nextElementSibling||t.nextSibling;i.style.maxHeight=i.style.maxHeight!=="100px"?"100px":"0"}function r(){for(var r=0,f=0,t,i=0;i<n.length;i++)t=n[i],localStorage.setItem(t.id,t.checked),t.parentNode.className!=="optional"?t.checked&&r++:t.checked&&f++;u.innerHTML=f.toString(),h(r)}function h(n){t.value=n;var i=parseInt(t.max,10);f.style.width=n*100/i+"%"}function c(){for(var t=document.getElementsByTagName("a"),n=0;n<t.length;n++)t[n].className==="info"&&(t[n].onclick=function(){return!1})}function l(){document.getElementById("clearall").onclick=function(){for(var t=0;t<n.length;t++)n[t].checked=!1;return localStorage.clear(),r(),!1}}var n=[],i=[],t,u,f;localStorage&&(e(),o(),c(),r(),l())})();